<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Socket.IO Chat Example</title><!-- 
  <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/themes/smoothness/jquery-ui.css"> -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">  
  <link rel="stylesheet" href="style.css">
  
  
</head>
<body>
  <div class="row">
    <div class="col-lg-6">
      <ul class="pages">
        <li class="chat page">
          <div class="chatArea">
            <ul class="messages"></ul>
          </div>
          <input class="inputMessage" placeholder="Type here..."/>
        </li>
        <li class="login page">
          <div class="form">
            <h3 class="title">What's your nickname?</h3>
            <input class="usernameInput" type="text" maxlength="14" />
          </div>
        </li>
      </ul>
    </div>
    <div class="col-lg-6">
      <div>
        <button id="button" type="button">Pull!</button>
        <!-- <button id="push" type="button">Push!</button> -->
        <h3 class="title">Please enter a Github username</h3>
        <div>
          <input id="gitUserRepo" type="text" placeholder="Github Username"/>
          <button id="search" type="submit">Submit</button>
        </div>
      </div>
      <br>
      <br>
      <div id="list">
        <!--<button id="list" type="submit">Select</button>-->
      </div>
        <pre class="pages" id="editor">var x = 5;
var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}
var x = 5;
var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}
var x = 5;
var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}var y = 10;
function add(x,y) {
  return x+y;
}

        </pre>
      </div>
    </div>
  </div>


  <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.4/jquery-ui.min.js"></script>
  <script src="/socket.io/socket.io.js"></script>
  <script src="/main.js"></script>
  <script src="src-noconflict/ace.js" type="text/javascript" charset="utf-8"></script>
  <script>
  var Range    = ace.require("ace/range").Range;
    
  var editor     = ace.edit("editor");
    
  var session  = editor.getSession();


   
  var range    = new Range(5, 0, 30, 0);
  /* range needs to be calculated based onCursor positions */




  var markerId = session.addMarker(range, "readonly-highlight");
    
  /* sets mode mode should be determined via file pulled from github */
  session.setMode("ace/mode/javascript");
  editor.setTheme("ace/theme/chaos");
    


//customized key handler function
    editor.keyBinding.addKeyboardHandler({
        handleKeyboard : function(data, hash, keyString, keyCode, event) {
            if (hash === -1 || (keyCode <= 40 && keyCode >= 37)) return false;
            
            if (intersects(range)) {
                return {command:"null", passEvent:false};
            }
        }
    });
    
    //prevents copy/paste injection
    before(editor, 'onPaste', preventReadonly);
    before(editor, 'onCut',   preventReadonly);


    //add anchors to range
    range.start  = session.doc.createAnchor(range.start);
    range.end    = session.doc.createAnchor(range.end);
  //  range.end.$insertRight = true;

    
    function before(obj, method, wrapper) {
        var orig = obj[method];
        obj[method] = function() {
            var args = Array.prototype.slice.call(arguments);
            return wrapper.call(this, function(){
                return orig.apply(obj, args);
            }, args);
        }
        
        return obj[method];
    }
    
    function intersects(range) {
        return editor.getSelectionRange().intersects(range);
    }
    
    function preventReadonly(next, args) {
        if (intersects(range)) return;
        next();
    };
  </script>
</body>
</html>